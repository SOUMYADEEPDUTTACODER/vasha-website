@startuml Vasha AI - Backend & Model Pipeline
!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontName "Arial"
skinparam defaultFontSize 14
skinparam roundcorner 20
skinparam shadowing true
skinparam arrowThickness 2

title Vasha AI - Backend & Model Pipeline Flowchart

skinparam rectangle {
    BorderColor #000000
    BorderThickness 2
    FontColor #000000
    FontSize 13
    FontStyle bold
}

' Input
rectangle "ðŸŽ¤ Audio Input\n(Microphone/File/YouTube)" as Input #FF6B6B

' Backend API Layer
rectangle "Backend API\nFastAPI Server" as BackendAPI #4A90E2

' ASR Pipeline
rectangle "Audio Processing\nConvert to WAV Format" as AudioProc #FFB84D
rectangle "Language Detection\nIdentify Spoken Language" as LID #4ECDC4
rectangle "Speech Recognition\nConvert Speech to Text" as ASR #FF6B9D

' MT Pipeline  
rectangle "Machine Translation\nTranslate Text" as MT #95E1D3

' TTS Pipeline
rectangle "Text-to-Speech\nConvert Text to Audio" as TTS #F38181

' Output
rectangle "ðŸ“ Translated Text\nðŸ”Š Translated Audio" as Output #6BCB77

' Flow with different arrow styles
Input -[#FF6B6B]-> BackendAPI : "1. Receive Audio"
BackendAPI -[#4A90E2]-> AudioProc : "2. Process Audio"
AudioProc -[#FFB84D]-> LID : "3. Detect Language"
LID -[#4ECDC4]-> ASR : "4. Recognize Speech"
ASR -[#FF6B9D]-> MT : "5. Translate Text"
MT -[#95E1D3]-> TTS : "6. Generate Speech"
TTS -[#F38181]-> Output : "7. Final Output"

' Model details (simplified)
note right of LID
  **Detects Language:**
  â€¢ Hindi, English, Tamil
  â€¢ Bengali, Telugu, etc.
  â€¢ 200+ languages supported
end note

note right of ASR
  **Speech Recognition:**
  â€¢ Whisper (OpenAI)
  â€¢ AI4Bharat (Indic)
  â€¢ Automatic model selection
end note

note right of MT
  **Translation Models:**
  â€¢ IndicTrans2 (Indic)
  â€¢ Meta NLLB-200 (Global)
  â€¢ Google Translate (Fallback)
end note

note right of TTS
  **Speech Generation:**
  â€¢ Coqui XTTS (Voice Cloning)
  â€¢ Indic Parler-TTS
  â€¢ Google TTS (Fallback)
end note

legend right
  |= Color |= Stage |
  |<#FF6B6B> Input |
  |<#4A90E2> Backend API |
  |<#FFB84D> Audio Processing |
  |<#4ECDC4> Language Detection |
  |<#FF6B9D> Speech Recognition |
  |<#95E1D3> Translation |
  |<#F38181> Speech Generation |
  |<#6BCB77> Output |
endlegend

@enduml
